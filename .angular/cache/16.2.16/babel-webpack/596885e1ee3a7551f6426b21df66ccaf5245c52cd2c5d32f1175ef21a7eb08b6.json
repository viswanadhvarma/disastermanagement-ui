{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/social-socket.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function (a0) {\n  return {\n    color: a0\n  };\n};\nfunction SocialFeedComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 8);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"em\");\n    i0.ɵɵtext(8, \"Disaster ID:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"em\");\n    i0.ɵɵtext(12, \"Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 9);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(post_r1.user);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"[\", i0.ɵɵpipeBind2(5, 6, post_r1.timestamp, \"short\"), \"]\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", post_r1.disaster_id, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(9, _c0, post_r1.status === \"verified\" ? \"green\" : \"red\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", post_r1.status, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r1.content);\n  }\n}\nexport class SocialFeedComponent {\n  constructor(socialSocket) {\n    this.socialSocket = socialSocket;\n    this.newPost = {\n      user: '',\n      disaster_id: '',\n      content: ''\n    };\n    this.posts = [];\n  }\n  ngOnInit() {\n    this.socialSocket.onNewPost().subscribe(post => {\n      this.posts.unshift(post); // new posts at top\n    });\n  }\n\n  submitPost() {\n    const {\n      user,\n      disaster_id,\n      content\n    } = this.newPost;\n    if (user && disaster_id && content) {\n      this.socialSocket.sendPost(this.newPost).subscribe(response => {\n        this.posts.unshift(response);\n        this.newPost.content = '';\n      });\n    }\n  }\n  static {\n    this.ɵfac = function SocialFeedComponent_Factory(t) {\n      return new (t || SocialFeedComponent)(i0.ɵɵdirectiveInject(i1.SocialSocketService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SocialFeedComponent,\n      selectors: [[\"app-social-feed\"]],\n      decls: 8,\n      vars: 4,\n      consts: [[1, \"post-form\"], [\"placeholder\", \"Your name\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Disaster ID\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"What's happening?\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [1, \"feed\"], [\"class\", \"post-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"post-card\"], [2, \"color\", \"grey\"], [3, \"ngStyle\"]],\n      template: function SocialFeedComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"input\", 1);\n          i0.ɵɵlistener(\"ngModelChange\", function SocialFeedComponent_Template_input_ngModelChange_1_listener($event) {\n            return ctx.newPost.user = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"input\", 2);\n          i0.ɵɵlistener(\"ngModelChange\", function SocialFeedComponent_Template_input_ngModelChange_2_listener($event) {\n            return ctx.newPost.disaster_id = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"textarea\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function SocialFeedComponent_Template_textarea_ngModelChange_3_listener($event) {\n            return ctx.newPost.content = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function SocialFeedComponent_Template_button_click_4_listener() {\n            return ctx.submitPost();\n          });\n          i0.ɵɵtext(5, \"Post\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 5);\n          i0.ɵɵtemplate(7, SocialFeedComponent_div_7_Template, 19, 11, \"div\", 6);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.newPost.user);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.newPost.disaster_id);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.newPost.content);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgStyle, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","post_r1","user","ɵɵtextInterpolate1","ɵɵpipeBind2","timestamp","disaster_id","ɵɵproperty","ɵɵpureFunction1","_c0","status","content","SocialFeedComponent","constructor","socialSocket","newPost","posts","ngOnInit","onNewPost","subscribe","post","unshift","submitPost","sendPost","response","ɵɵdirectiveInject","i1","SocialSocketService","selectors","decls","vars","consts","template","SocialFeedComponent_Template","rf","ctx","ɵɵlistener","SocialFeedComponent_Template_input_ngModelChange_1_listener","$event","SocialFeedComponent_Template_input_ngModelChange_2_listener","SocialFeedComponent_Template_textarea_ngModelChange_3_listener","SocialFeedComponent_Template_button_click_4_listener","ɵɵtemplate","SocialFeedComponent_div_7_Template"],"sources":["D:\\NewFolder\\disasterresponse\\Disaster-Response-frontend\\src\\app\\social-feed\\social-feed.component.ts","D:\\NewFolder\\disasterresponse\\Disaster-Response-frontend\\src\\app\\social-feed\\social-feed.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { SocialSocketService } from '../services/social-socket.service';\r\n\r\n@Component({\r\n  selector: 'app-social-feed',\r\n  templateUrl: './social-feed.component.html',\r\n  styleUrls: ['./social-feed.component.css']\r\n})\r\nexport class SocialFeedComponent implements OnInit {\r\n  newPost = {\r\n    user: '',\r\n    disaster_id: '',\r\n    content: '',\r\n  };\r\n\r\n  posts: any[] = [];\r\n\r\n  constructor(private socialSocket: SocialSocketService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.socialSocket.onNewPost().subscribe((post: any) => {\r\n      this.posts.unshift(post); // new posts at top\r\n    });\r\n  }\r\n\r\n   submitPost(): void {\r\n  const { user, disaster_id, content } = this.newPost;\r\n  if (user && disaster_id && content) {\r\n    this.socialSocket.sendPost(this.newPost).subscribe((response: any) => {\r\n      this.posts.unshift(response);\r\n      this.newPost.content = '';\r\n    });\r\n  }\r\n}\r\n}\r\n","<div class=\"post-form\">\r\n  <input [(ngModel)]=\"newPost.user\" placeholder=\"Your name\" />\r\n  <input [(ngModel)]=\"newPost.disaster_id\" placeholder=\"Disaster ID\" />\r\n  <textarea [(ngModel)]=\"newPost.content\" placeholder=\"What's happening?\"></textarea>\r\n  <button (click)=\"submitPost()\">Post</button>\r\n</div>\r\n\r\n<div class=\"feed\">\r\n  <div *ngFor=\"let post of posts\" class=\"post-card\">\r\n    <strong>{{ post.user }}</strong>  \r\n    <span style=\"color: grey;\">[{{ post.timestamp | date:'short' }}]</span> <br />\r\n    <em>Disaster ID:</em> {{ post.disaster_id }} <br />\r\n    <em>Status:</em> <span [ngStyle]=\"{ color: post.status === 'verified' ? 'green' : 'red' }\">\r\n      {{ post.status }}\r\n    </span> <br />\r\n    <p>{{ post.content }}</p>\r\n    <hr />\r\n  </div>\r\n</div>\r\n"],"mappings":";;;;;;;;;;;ICQEA,EAAA,CAAAC,cAAA,aAAkD;IACxCD,EAAA,CAAAE,MAAA,GAAe;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAChCH,EAAA,CAAAC,cAAA,cAA2B;IAAAD,EAAA,CAAAE,MAAA,GAAqC;;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAACH,EAAA,CAAAI,SAAA,SAAM;IAC9EJ,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,mBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAACH,EAAA,CAAAE,MAAA,GAAuB;IAAAF,EAAA,CAAAI,SAAA,UAAM;IACnDJ,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAACH,EAAA,CAAAC,cAAA,eAA0E;IACzFD,EAAA,CAAAE,MAAA,IACF;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAACH,EAAA,CAAAI,SAAA,UAAM;IACdJ,EAAA,CAAAC,cAAA,SAAG;IAAAD,EAAA,CAAAE,MAAA,IAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACzBH,EAAA,CAAAI,SAAA,UAAM;IACRJ,EAAA,CAAAG,YAAA,EAAM;;;;IARIH,EAAA,CAAAK,SAAA,GAAe;IAAfL,EAAA,CAAAM,iBAAA,CAAAC,OAAA,CAAAC,IAAA,CAAe;IACIR,EAAA,CAAAK,SAAA,GAAqC;IAArCL,EAAA,CAAAS,kBAAA,MAAAT,EAAA,CAAAU,WAAA,OAAAH,OAAA,CAAAI,SAAA,gBAAqC;IAC1CX,EAAA,CAAAK,SAAA,GAAuB;IAAvBL,EAAA,CAAAS,kBAAA,MAAAF,OAAA,CAAAK,WAAA,MAAuB;IACtBZ,EAAA,CAAAK,SAAA,GAAmE;IAAnEL,EAAA,CAAAa,UAAA,YAAAb,EAAA,CAAAc,eAAA,IAAAC,GAAA,EAAAR,OAAA,CAAAS,MAAA,mCAAmE;IACxFhB,EAAA,CAAAK,SAAA,GACF;IADEL,EAAA,CAAAS,kBAAA,MAAAF,OAAA,CAAAS,MAAA,MACF;IACGhB,EAAA,CAAAK,SAAA,GAAkB;IAAlBL,EAAA,CAAAM,iBAAA,CAAAC,OAAA,CAAAU,OAAA,CAAkB;;;ADPzB,OAAM,MAAOC,mBAAmB;EAS9BC,YAAoBC,YAAiC;IAAjC,KAAAA,YAAY,GAAZA,YAAY;IARhC,KAAAC,OAAO,GAAG;MACRb,IAAI,EAAE,EAAE;MACRI,WAAW,EAAE,EAAE;MACfK,OAAO,EAAE;KACV;IAED,KAAAK,KAAK,GAAU,EAAE;EAEuC;EAExDC,QAAQA,CAAA;IACN,IAAI,CAACH,YAAY,CAACI,SAAS,EAAE,CAACC,SAAS,CAAEC,IAAS,IAAI;MACpD,IAAI,CAACJ,KAAK,CAACK,OAAO,CAACD,IAAI,CAAC,CAAC,CAAC;IAC5B,CAAC,CAAC;EACJ;;EAECE,UAAUA,CAAA;IACX,MAAM;MAAEpB,IAAI;MAAEI,WAAW;MAAEK;IAAO,CAAE,GAAG,IAAI,CAACI,OAAO;IACnD,IAAIb,IAAI,IAAII,WAAW,IAAIK,OAAO,EAAE;MAClC,IAAI,CAACG,YAAY,CAACS,QAAQ,CAAC,IAAI,CAACR,OAAO,CAAC,CAACI,SAAS,CAAEK,QAAa,IAAI;QACnE,IAAI,CAACR,KAAK,CAACK,OAAO,CAACG,QAAQ,CAAC;QAC5B,IAAI,CAACT,OAAO,CAACJ,OAAO,GAAG,EAAE;MAC3B,CAAC,CAAC;;EAEN;;;uBAzBaC,mBAAmB,EAAAlB,EAAA,CAAA+B,iBAAA,CAAAC,EAAA,CAAAC,mBAAA;IAAA;EAAA;;;YAAnBf,mBAAmB;MAAAgB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCRhCxC,EAAA,CAAAC,cAAA,aAAuB;UACdD,EAAA,CAAA0C,UAAA,2BAAAC,4DAAAC,MAAA;YAAA,OAAAH,GAAA,CAAApB,OAAA,CAAAb,IAAA,GAAAoC,MAAA;UAAA,EAA0B;UAAjC5C,EAAA,CAAAG,YAAA,EAA4D;UAC5DH,EAAA,CAAAC,cAAA,eAAqE;UAA9DD,EAAA,CAAA0C,UAAA,2BAAAG,4DAAAD,MAAA;YAAA,OAAAH,GAAA,CAAApB,OAAA,CAAAT,WAAA,GAAAgC,MAAA;UAAA,EAAiC;UAAxC5C,EAAA,CAAAG,YAAA,EAAqE;UACrEH,EAAA,CAAAC,cAAA,kBAAwE;UAA9DD,EAAA,CAAA0C,UAAA,2BAAAI,+DAAAF,MAAA;YAAA,OAAAH,GAAA,CAAApB,OAAA,CAAAJ,OAAA,GAAA2B,MAAA;UAAA,EAA6B;UAAiC5C,EAAA,CAAAG,YAAA,EAAW;UACnFH,EAAA,CAAAC,cAAA,gBAA+B;UAAvBD,EAAA,CAAA0C,UAAA,mBAAAK,qDAAA;YAAA,OAASN,GAAA,CAAAb,UAAA,EAAY;UAAA,EAAC;UAAC5B,EAAA,CAAAE,MAAA,WAAI;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAG9CH,EAAA,CAAAC,cAAA,aAAkB;UAChBD,EAAA,CAAAgD,UAAA,IAAAC,kCAAA,mBASM;UACRjD,EAAA,CAAAG,YAAA,EAAM;;;UAjBGH,EAAA,CAAAK,SAAA,GAA0B;UAA1BL,EAAA,CAAAa,UAAA,YAAA4B,GAAA,CAAApB,OAAA,CAAAb,IAAA,CAA0B;UAC1BR,EAAA,CAAAK,SAAA,GAAiC;UAAjCL,EAAA,CAAAa,UAAA,YAAA4B,GAAA,CAAApB,OAAA,CAAAT,WAAA,CAAiC;UAC9BZ,EAAA,CAAAK,SAAA,GAA6B;UAA7BL,EAAA,CAAAa,UAAA,YAAA4B,GAAA,CAAApB,OAAA,CAAAJ,OAAA,CAA6B;UAKjBjB,EAAA,CAAAK,SAAA,GAAQ;UAARL,EAAA,CAAAa,UAAA,YAAA4B,GAAA,CAAAnB,KAAA,CAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}