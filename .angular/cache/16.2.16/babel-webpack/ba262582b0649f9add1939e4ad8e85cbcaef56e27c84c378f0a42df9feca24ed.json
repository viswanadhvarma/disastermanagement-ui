{"ast":null,"code":"import { io } from 'socket.io-client';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class SocialSocketService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'http://localhost:5000/social';\n    this.socket = io('http://localhost:5000');\n  }\n  sendPost(post) {\n    return this.http.post(this.apiUrl, post);\n  }\n  onNewPost() {\n    return new Observable(observer => {\n      this.socket.on('post_broadcast', data => {\n        observer.next(data);\n      });\n    });\n  }\n  static {\n    this.ɵfac = function SocialSocketService_Factory(t) {\n      return new (t || SocialSocketService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: SocialSocketService,\n      factory: SocialSocketService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["io","Observable","SocialSocketService","constructor","http","apiUrl","socket","sendPost","post","onNewPost","observer","on","data","next","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["D:\\NewFolder\\disasterresponse\\Disaster-Response-frontend\\src\\app\\services\\social-socket.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { HttpClient } from '@angular/common/http'; \r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SocialSocketService {\r\n  private socket: Socket;\r\n   private apiUrl = 'http://localhost:5000/social';\r\n\r\n  constructor(private http: HttpClient) {\r\n    this.socket = io('http://localhost:5000'); \r\n  }\r\n\r\n  sendPost(post: any) {\r\n    return this.http.post(this.apiUrl, post); \r\n  }\r\n\r\n  onNewPost(): Observable<any> {\r\n    return new Observable((observer) => {\r\n      this.socket.on('post_broadcast', (data) => {\r\n        observer.next(data);\r\n      });\r\n    });\r\n  }\r\n}"],"mappings":"AACA,SAASA,EAAE,QAAgB,kBAAkB;AAE7C,SAASC,UAAU,QAAQ,MAAM;;;AAKjC,OAAM,MAAOC,mBAAmB;EAI9BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFf,KAAAC,MAAM,GAAG,8BAA8B;IAG9C,IAAI,CAACC,MAAM,GAAGN,EAAE,CAAC,uBAAuB,CAAC;EAC3C;EAEAO,QAAQA,CAACC,IAAS;IAChB,OAAO,IAAI,CAACJ,IAAI,CAACI,IAAI,CAAC,IAAI,CAACH,MAAM,EAAEG,IAAI,CAAC;EAC1C;EAEAC,SAASA,CAAA;IACP,OAAO,IAAIR,UAAU,CAAES,QAAQ,IAAI;MACjC,IAAI,CAACJ,MAAM,CAACK,EAAE,CAAC,gBAAgB,EAAGC,IAAI,IAAI;QACxCF,QAAQ,CAACG,IAAI,CAACD,IAAI,CAAC;MACrB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;;uBAlBWV,mBAAmB,EAAAY,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAnBf,mBAAmB;MAAAgB,OAAA,EAAnBhB,mBAAmB,CAAAiB,IAAA;MAAAC,UAAA,EAFlB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}